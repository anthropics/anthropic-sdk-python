[
  {
    "request": {
      "method": "POST",
      "url": "https://api.anthropic.com/v1/messages?beta=true",
      "headers": {
        "host": "api.anthropic.com",
        "accept-encoding": "gzip, deflate",
        "connection": "keep-alive",
        "x-stainless-timeout": "600",
        "accept": "application/json",
        "content-type": "application/json",
        "user-agent": "Anthropic/Python 0.82.0",
        "x-stainless-lang": "python",
        "x-stainless-package-version": "0.82.0",
        "x-stainless-os": "MacOS",
        "x-stainless-arch": "arm64",
        "x-stainless-runtime": "CPython",
        "x-stainless-runtime-version": "3.9.18",
        "x-stainless-async": "false",
        "anthropic-version": "2023-06-01",
        "x-stainless-helper": "BetaToolRunner",
        "anthropic-beta": "structured-outputs-2025-12-15",
        "x-stainless-retry-count": "0",
        "x-stainless-read-timeout": "600",
        "content-length": "779"
      },
      "body": {
        "max_tokens": 1024,
        "messages": [
          {
            "role": "user",
            "content": "What's the weather in San Francisco, New York, London, Tokyo and Paris?If you need to use tools, call only one tool at a time. Wait for the tool'sresponse before making another call. Never call multiple tools at once."
          }
        ],
        "model": "claude-haiku-4-5",
        "tools": [
          {
            "name": "get_weather",
            "description": "Lookup the weather for a given city in either celsius or fahrenheit",
            "input_schema": {
              "additionalProperties": false,
              "properties": {
                "location": {
                  "description": "The city and state, e.g. San Francisco, CA",
                  "title": "Location",
                  "type": "string"
                },
                "units": {
                  "description": "Unit for the output, either 'c' for celsius or 'f' for fahrenheit",
                  "enum": [
                    "c",
                    "f"
                  ],
                  "title": "Units",
                  "type": "string"
                }
              },
              "required": [
                "location",
                "units"
              ],
              "type": "object"
            }
          }
        ]
      }
    },
    "response": {
      "status_code": 200,
      "headers": {
        "content-type": "application/json",
        "connection": "keep-alive",
        "strict-transport-security": "max-age=31536000; includeSubDomains; preload",
        "server": "cloudflare",
        "cf-cache-status": "DYNAMIC",
        "x-robots-tag": "none",
        "content-security-policy": "default-src 'none'; frame-ancestors 'none'"
      },
      "body": {
        "model": "claude-haiku-4-5-20251001",
        "id": "msg_01UBZt9MX63Tk3v1gKvgxk3A",
        "type": "message",
        "role": "assistant",
        "content": [
          {
            "type": "text",
            "text": "I'll get the weather for each of those cities. Let me start by checking San Francisco."
          },
          {
            "type": "tool_use",
            "id": "toolu_01LRanfq6DmHn1yDTB4d1SAh",
            "name": "get_weather",
            "input": {
              "location": "San Francisco, CA",
              "units": "f"
            },
            "caller": {
              "type": "direct"
            }
          }
        ],
        "stop_reason": "tool_use",
        "stop_sequence": null,
        "usage": {
          "input_tokens": 701,
          "cache_creation_input_tokens": 0,
          "cache_read_input_tokens": 0,
          "cache_creation": {
            "ephemeral_5m_input_tokens": 0,
            "ephemeral_1h_input_tokens": 0
          },
          "output_tokens": 93,
          "service_tier": "standard",
          "inference_geo": "not_available"
        }
      }
    }
  },
  {
    "request": {
      "method": "POST",
      "url": "https://api.anthropic.com/v1/messages?beta=true",
      "headers": {
        "host": "api.anthropic.com",
        "accept-encoding": "gzip, deflate",
        "connection": "keep-alive",
        "x-stainless-timeout": "600",
        "accept": "application/json",
        "content-type": "application/json",
        "user-agent": "Anthropic/Python 0.82.0",
        "x-stainless-lang": "python",
        "x-stainless-package-version": "0.82.0",
        "x-stainless-os": "MacOS",
        "x-stainless-arch": "arm64",
        "x-stainless-runtime": "CPython",
        "x-stainless-runtime-version": "3.9.18",
        "x-stainless-async": "false",
        "anthropic-version": "2023-06-01",
        "x-stainless-helper": "BetaToolRunner",
        "anthropic-beta": "structured-outputs-2025-12-15",
        "x-stainless-retry-count": "0",
        "x-stainless-read-timeout": "600",
        "content-length": "1290"
      },
      "body": {
        "max_tokens": 1024,
        "messages": [
          {
            "role": "user",
            "content": "What's the weather in San Francisco, New York, London, Tokyo and Paris?If you need to use tools, call only one tool at a time. Wait for the tool'sresponse before making another call. Never call multiple tools at once."
          },
          {
            "role": "assistant",
            "content": [
              {
                "text": "I'll get the weather for each of those cities. Let me start by checking San Francisco.",
                "type": "text"
              },
              {
                "id": "toolu_01LRanfq6DmHn1yDTB4d1SAh",
                "input": {
                  "location": "San Francisco, CA",
                  "units": "f"
                },
                "name": "get_weather",
                "type": "tool_use",
                "caller": {
                  "type": "direct"
                }
              }
            ]
          },
          {
            "role": "user",
            "content": [
              {
                "type": "tool_result",
                "tool_use_id": "toolu_01LRanfq6DmHn1yDTB4d1SAh",
                "content": "{\"location\": \"San Francisco, CA\", \"temperature\": \"68\\u00b0F\", \"condition\": \"Sunny\"}"
              }
            ]
          }
        ],
        "model": "claude-haiku-4-5",
        "tools": [
          {
            "name": "get_weather",
            "description": "Lookup the weather for a given city in either celsius or fahrenheit",
            "input_schema": {
              "additionalProperties": false,
              "properties": {
                "location": {
                  "description": "The city and state, e.g. San Francisco, CA",
                  "title": "Location",
                  "type": "string"
                },
                "units": {
                  "description": "Unit for the output, either 'c' for celsius or 'f' for fahrenheit",
                  "enum": [
                    "c",
                    "f"
                  ],
                  "title": "Units",
                  "type": "string"
                }
              },
              "required": [
                "location",
                "units"
              ],
              "type": "object"
            }
          }
        ]
      }
    },
    "response": {
      "status_code": 200,
      "headers": {
        "content-type": "application/json",
        "connection": "keep-alive",
        "x-robots-tag": "none",
        "strict-transport-security": "max-age=31536000; includeSubDomains; preload",
        "server": "cloudflare",
        "content-security-policy": "default-src 'none'; frame-ancestors 'none'",
        "cf-cache-status": "DYNAMIC"
      },
      "body": {
        "model": "claude-haiku-4-5-20251001",
        "id": "msg_01BAceCxj9VxXR9GhBedwTm2",
        "type": "message",
        "role": "assistant",
        "content": [
          {
            "type": "text",
            "text": "Now let me check New York."
          },
          {
            "type": "tool_use",
            "id": "toolu_01RWdcDdE8NAFDgZ8F9Xk2K7",
            "name": "get_weather",
            "input": {
              "location": "New York, NY",
              "units": "f"
            },
            "caller": {
              "type": "direct"
            }
          }
        ],
        "stop_reason": "tool_use",
        "stop_sequence": null,
        "usage": {
          "input_tokens": 834,
          "cache_creation_input_tokens": 0,
          "cache_read_input_tokens": 0,
          "cache_creation": {
            "ephemeral_5m_input_tokens": 0,
            "ephemeral_1h_input_tokens": 0
          },
          "output_tokens": 81,
          "service_tier": "standard",
          "inference_geo": "not_available"
        }
      }
    }
  }
]