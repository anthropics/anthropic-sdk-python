[
  {
    "request": {
      "method": "POST",
      "url": "https://api.anthropic.com/v1/messages?beta=true",
      "headers": {
        "host": "api.anthropic.com",
        "accept-encoding": "gzip, deflate",
        "connection": "keep-alive",
        "x-stainless-timeout": "NOT_GIVEN",
        "accept": "application/json",
        "content-type": "application/json",
        "user-agent": "Anthropic/Python 0.82.0",
        "x-stainless-lang": "python",
        "x-stainless-package-version": "0.82.0",
        "x-stainless-os": "MacOS",
        "x-stainless-arch": "arm64",
        "x-stainless-runtime": "CPython",
        "x-stainless-runtime-version": "3.9.18",
        "x-stainless-async": "false",
        "anthropic-version": "2023-06-01",
        "x-stainless-helper-method": "stream",
        "x-stainless-stream-helper": "beta.messages",
        "x-stainless-helper": "BetaToolRunner",
        "x-stainless-retry-count": "0",
        "x-stainless-read-timeout": "600",
        "content-length": "602"
      },
      "body": {
        "max_tokens": 1024,
        "messages": [
          {
            "role": "user",
            "content": "What is the weather in SF?"
          }
        ],
        "model": "claude-haiku-4-5",
        "tools": [
          {
            "name": "get_weather",
            "description": "Lookup the weather for a given city in either celsius or fahrenheit",
            "input_schema": {
              "additionalProperties": false,
              "properties": {
                "location": {
                  "description": "The city and state, e.g. San Francisco, CA",
                  "title": "Location",
                  "type": "string"
                },
                "units": {
                  "description": "Unit for the output, either 'c' for celsius or 'f' for fahrenheit",
                  "enum": [
                    "c",
                    "f"
                  ],
                  "title": "Units",
                  "type": "string"
                }
              },
              "required": [
                "location",
                "units"
              ],
              "type": "object"
            }
          }
        ],
        "stream": true
      }
    },
    "response": {
      "status_code": 200,
      "headers": {
        "content-type": "text/event-stream; charset=utf-8",
        "connection": "keep-alive",
        "cache-control": "no-cache",
        "strict-transport-security": "max-age=31536000; includeSubDomains; preload",
        "server": "cloudflare",
        "x-robots-tag": "none",
        "content-security-policy": "default-src 'none'; frame-ancestors 'none'",
        "cf-cache-status": "DYNAMIC"
      },
      "body": "event: message_start\ndata: {\"type\":\"message_start\",\"message\":{\"model\":\"claude-haiku-4-5-20251001\",\"id\":\"msg_01AusY9WEbCaj3N7Tv5J4YjH\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":656,\"cache_creation_input_tokens\":0,\"cache_read_input_tokens\":0,\"cache_creation\":{\"ephemeral_5m_input_tokens\":0,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":26,\"service_tier\":\"standard\",\"inference_geo\":\"not_available\"}} }\n\nevent: content_block_start\ndata: {\"type\":\"content_block_start\",\"index\":0,\"content_block\":{\"type\":\"tool_use\",\"id\":\"toolu_018acGYLtfR52q9yDbWaEdQZ\",\"name\":\"get_weather\",\"input\":{},\"caller\":{\"type\":\"direct\"}}             }\n\nevent: ping\ndata: {\"type\": \"ping\"}\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"input_json_delta\",\"partial_json\":\"\"}              }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"input_json_delta\",\"partial_json\":\"{\\\"\"}        }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"input_json_delta\",\"partial_json\":\"loca\"}    }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"input_json_delta\",\"partial_json\":\"tio\"}             }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"input_json_delta\",\"partial_json\":\"n\\\": \"}         }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"input_json_delta\",\"partial_json\":\"\\\"San Fr\"}  }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"input_json_delta\",\"partial_json\":\"anci\"}          }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"input_json_delta\",\"partial_json\":\"sco, CA\\\"\"}              }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"input_json_delta\",\"partial_json\":\", \\\"\"}           }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"input_json_delta\",\"partial_json\":\"units\\\": \\\"f\\\"}\"}  }\n\nevent: content_block_stop\ndata: {\"type\":\"content_block_stop\",\"index\":0             }\n\nevent: message_delta\ndata: {\"type\":\"message_delta\",\"delta\":{\"stop_reason\":\"tool_use\",\"stop_sequence\":null},\"usage\":{\"input_tokens\":656,\"cache_creation_input_tokens\":0,\"cache_read_input_tokens\":0,\"output_tokens\":74}            }\n\nevent: message_stop\ndata: {\"type\":\"message_stop\"     }\n\n"
    }
  },
  {
    "request": {
      "method": "POST",
      "url": "https://api.anthropic.com/v1/messages?beta=true",
      "headers": {
        "host": "api.anthropic.com",
        "accept-encoding": "gzip, deflate",
        "connection": "keep-alive",
        "x-stainless-timeout": "NOT_GIVEN",
        "accept": "application/json",
        "content-type": "application/json",
        "user-agent": "Anthropic/Python 0.82.0",
        "x-stainless-lang": "python",
        "x-stainless-package-version": "0.82.0",
        "x-stainless-os": "MacOS",
        "x-stainless-arch": "arm64",
        "x-stainless-runtime": "CPython",
        "x-stainless-runtime-version": "3.9.18",
        "x-stainless-async": "false",
        "anthropic-version": "2023-06-01",
        "x-stainless-helper-method": "stream",
        "x-stainless-stream-helper": "beta.messages",
        "x-stainless-helper": "BetaToolRunner",
        "x-stainless-retry-count": "0",
        "x-stainless-read-timeout": "600",
        "content-length": "1001"
      },
      "body": {
        "max_tokens": 1024,
        "messages": [
          {
            "role": "user",
            "content": "What is the weather in SF?"
          },
          {
            "role": "assistant",
            "content": [
              {
                "id": "toolu_018acGYLtfR52q9yDbWaEdQZ",
                "input": {
                  "location": "San Francisco, CA",
                  "units": "f"
                },
                "name": "get_weather",
                "type": "tool_use",
                "caller": {
                  "type": "direct"
                }
              }
            ]
          },
          {
            "role": "user",
            "content": [
              {
                "type": "tool_result",
                "tool_use_id": "toolu_018acGYLtfR52q9yDbWaEdQZ",
                "content": "{\"location\": \"San Francisco, CA\", \"temperature\": \"68\\u00b0F\", \"condition\": \"Sunny\"}"
              }
            ]
          }
        ],
        "model": "claude-haiku-4-5",
        "tools": [
          {
            "name": "get_weather",
            "description": "Lookup the weather for a given city in either celsius or fahrenheit",
            "input_schema": {
              "additionalProperties": false,
              "properties": {
                "location": {
                  "description": "The city and state, e.g. San Francisco, CA",
                  "title": "Location",
                  "type": "string"
                },
                "units": {
                  "description": "Unit for the output, either 'c' for celsius or 'f' for fahrenheit",
                  "enum": [
                    "c",
                    "f"
                  ],
                  "title": "Units",
                  "type": "string"
                }
              },
              "required": [
                "location",
                "units"
              ],
              "type": "object"
            }
          }
        ],
        "stream": true
      }
    },
    "response": {
      "status_code": 200,
      "headers": {
        "content-type": "text/event-stream; charset=utf-8",
        "connection": "keep-alive",
        "cache-control": "no-cache",
        "strict-transport-security": "max-age=31536000; includeSubDomains; preload",
        "server": "cloudflare",
        "x-robots-tag": "none",
        "content-security-policy": "default-src 'none'; frame-ancestors 'none'",
        "cf-cache-status": "DYNAMIC"
      },
      "body": "event: message_start\ndata: {\"type\":\"message_start\",\"message\":{\"model\":\"claude-haiku-4-5-20251001\",\"id\":\"msg_016HxyUMAncysqX7dn1kWNRx\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":770,\"cache_creation_input_tokens\":0,\"cache_read_input_tokens\":0,\"cache_creation\":{\"ephemeral_5m_input_tokens\":0,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":8,\"service_tier\":\"standard\",\"inference_geo\":\"not_available\"}}   }\n\nevent: content_block_start\ndata: {\"type\":\"content_block_start\",\"index\":0,\"content_block\":{\"type\":\"text\",\"text\":\"\"}           }\n\nevent: ping\ndata: {\"type\": \"ping\"}\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\"The weather in San Francisco, CA is\"}   }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\" currently\"}   }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\":\"}      }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\"\\n- **Temperature:**\"}          }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\" 68Â°F\\n- **\"} }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\"Condition:** Sunny\\n\\nIt\"}  }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\"'s\"}   }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\" a nice\"}        }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\" sunny day!\"}     }\n\nevent: content_block_stop\ndata: {\"type\":\"content_block_stop\",\"index\":0      }\n\nevent: message_delta\ndata: {\"type\":\"message_delta\",\"delta\":{\"stop_reason\":\"end_turn\",\"stop_sequence\":null},\"usage\":{\"input_tokens\":770,\"cache_creation_input_tokens\":0,\"cache_read_input_tokens\":0,\"output_tokens\":38}       }\n\nevent: message_stop\ndata: {\"type\":\"message_stop\"               }\n\n"
    }
  }
]