[
  {
    "request": {
      "method": "POST",
      "url": "https://api.anthropic.com/v1/messages?beta=true",
      "headers": {
        "host": "api.anthropic.com",
        "accept-encoding": "gzip, deflate",
        "connection": "keep-alive",
        "x-stainless-timeout": "600",
        "accept": "application/json",
        "content-type": "application/json",
        "user-agent": "Anthropic/Python 0.82.0",
        "x-stainless-lang": "python",
        "x-stainless-package-version": "0.82.0",
        "x-stainless-os": "MacOS",
        "x-stainless-arch": "arm64",
        "x-stainless-runtime": "CPython",
        "x-stainless-runtime-version": "3.9.18",
        "x-stainless-async": "false",
        "anthropic-version": "2023-06-01",
        "x-stainless-helper": "BetaToolRunner",
        "anthropic-beta": "structured-outputs-2025-12-15",
        "x-stainless-retry-count": "0",
        "x-stainless-read-timeout": "600",
        "content-length": "390"
      },
      "body": {
        "max_tokens": 1024,
        "messages": [
          {
            "role": "user",
            "content": "What's the weather in SF in Celsius?"
          }
        ],
        "model": "claude-haiku-4-5",
        "tools": [
          {
            "name": "get_weather",
            "description": "",
            "input_schema": {
              "additionalProperties": false,
              "properties": {
                "location": {
                  "title": "Location",
                  "type": "string"
                },
                "units": {
                  "enum": [
                    "c",
                    "f"
                  ],
                  "title": "Units",
                  "type": "string"
                }
              },
              "required": [
                "location",
                "units"
              ],
              "type": "object"
            }
          }
        ]
      }
    },
    "response": {
      "status_code": 200,
      "headers": {
        "content-type": "application/json",
        "connection": "keep-alive",
        "strict-transport-security": "max-age=31536000; includeSubDomains; preload",
        "server": "cloudflare",
        "cf-cache-status": "DYNAMIC",
        "x-robots-tag": "none",
        "content-security-policy": "default-src 'none'; frame-ancestors 'none'"
      },
      "body": {
        "model": "claude-haiku-4-5-20251001",
        "id": "msg_01M4x4hiFuUdHzu44ih9eCGh",
        "type": "message",
        "role": "assistant",
        "content": [
          {
            "type": "tool_use",
            "id": "toolu_013DU6hV4C1M8dJ32ybQFAFi",
            "name": "get_weather",
            "input": {
              "location": "SF",
              "units": "c"
            },
            "caller": {
              "type": "direct"
            }
          }
        ],
        "stop_reason": "tool_use",
        "stop_sequence": null,
        "usage": {
          "input_tokens": 597,
          "cache_creation_input_tokens": 0,
          "cache_read_input_tokens": 0,
          "cache_creation": {
            "ephemeral_5m_input_tokens": 0,
            "ephemeral_1h_input_tokens": 0
          },
          "output_tokens": 71,
          "service_tier": "standard",
          "inference_geo": "not_available"
        }
      }
    }
  },
  {
    "request": {
      "method": "POST",
      "url": "https://api.anthropic.com/v1/messages?beta=true",
      "headers": {
        "host": "api.anthropic.com",
        "accept-encoding": "gzip, deflate",
        "connection": "keep-alive",
        "x-stainless-timeout": "600",
        "accept": "application/json",
        "content-type": "application/json",
        "user-agent": "Anthropic/Python 0.82.0",
        "x-stainless-lang": "python",
        "x-stainless-package-version": "0.82.0",
        "x-stainless-os": "MacOS",
        "x-stainless-arch": "arm64",
        "x-stainless-runtime": "CPython",
        "x-stainless-runtime-version": "3.9.18",
        "x-stainless-async": "false",
        "anthropic-version": "2023-06-01",
        "x-stainless-helper": "BetaToolRunner",
        "anthropic-beta": "structured-outputs-2025-12-15",
        "x-stainless-retry-count": "0",
        "x-stainless-read-timeout": "600",
        "content-length": "759"
      },
      "body": {
        "max_tokens": 1024,
        "messages": [
          {
            "role": "user",
            "content": "What's the weather in SF in Celsius?"
          },
          {
            "role": "assistant",
            "content": [
              {
                "id": "toolu_013DU6hV4C1M8dJ32ybQFAFi",
                "input": {
                  "location": "SF",
                  "units": "c"
                },
                "name": "get_weather",
                "type": "tool_use",
                "caller": {
                  "type": "direct"
                }
              }
            ]
          },
          {
            "role": "user",
            "content": [
              {
                "type": "tool_result",
                "tool_use_id": "toolu_013DU6hV4C1M8dJ32ybQFAFi",
                "content": "{\"location\": \"SF\", \"temperature\": \"20\\u00b0C\", \"condition\": \"Sunny\"}"
              }
            ]
          }
        ],
        "model": "claude-haiku-4-5",
        "tools": [
          {
            "name": "get_weather",
            "description": "",
            "input_schema": {
              "additionalProperties": false,
              "properties": {
                "location": {
                  "title": "Location",
                  "type": "string"
                },
                "units": {
                  "enum": [
                    "c",
                    "f"
                  ],
                  "title": "Units",
                  "type": "string"
                }
              },
              "required": [
                "location",
                "units"
              ],
              "type": "object"
            }
          }
        ]
      }
    },
    "response": {
      "status_code": 200,
      "headers": {
        "content-type": "application/json",
        "connection": "keep-alive",
        "strict-transport-security": "max-age=31536000; includeSubDomains; preload",
        "server": "cloudflare",
        "cf-cache-status": "DYNAMIC",
        "x-robots-tag": "none",
        "content-security-policy": "default-src 'none'; frame-ancestors 'none'"
      },
      "body": {
        "model": "claude-haiku-4-5-20251001",
        "id": "msg_01LzoWDaDa7jiMvVbBiguxJy",
        "type": "message",
        "role": "assistant",
        "content": [
          {
            "type": "text",
            "text": "The weather in SF is currently **20°C** (68°F) and **Sunny**!"
          }
        ],
        "stop_reason": "end_turn",
        "stop_sequence": null,
        "usage": {
          "input_tokens": 705,
          "cache_creation_input_tokens": 0,
          "cache_read_input_tokens": 0,
          "cache_creation": {
            "ephemeral_5m_input_tokens": 0,
            "ephemeral_1h_input_tokens": 0
          },
          "output_tokens": 25,
          "service_tier": "standard",
          "inference_geo": "not_available"
        }
      }
    }
  }
]